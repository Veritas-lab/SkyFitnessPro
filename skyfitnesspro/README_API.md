# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ API –¥–ª—è SkyFitnessPro

## üìã –û–ø–∏—Å–∞–Ω–∏–µ

–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç REST API –¥–ª—è —Ñ–∏—Ç–Ω–µ—Å-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Å –±–∞–∑–æ–≤—ã–º URL `/api/fitness`.

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞

### 1. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env.local`

–í –∫–æ—Ä–Ω–µ–≤–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞ (`skyfitnesspro/`) —Å–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env.local`:

```bash
cd /Users/veritas/Desktop/SkyFitnessPro/skyfitnesspro
touch .env.local
```

### 2. –£–∫–∞–∂–∏—Ç–µ URL –≤–∞—à–µ–≥–æ API

–û—Ç–∫—Ä–æ–π—Ç–µ `.env.local` –∏ –¥–æ–±–∞–≤—å—Ç–µ —Å—Ç—Ä–æ–∫—É —Å URL –≤–∞—à–µ–≥–æ API:

```env
NEXT_PUBLIC_API_URL=https://–≤–∞—à-api-url.com/api/fitness
```

**–ü—Ä–∏–º–µ—Ä—ã:**

- –ï—Å–ª–∏ API –∑–∞–ø—É—â–µ–Ω –ª–æ–∫–∞–ª—å–Ω–æ –Ω–∞ –ø–æ—Ä—Ç—É 3001:
  ```env
  NEXT_PUBLIC_API_URL=http://localhost:3001/api/fitness
  ```

- –ï—Å–ª–∏ API –Ω–∞ —É–¥–∞–ª—ë–Ω–Ω–æ–º —Å–µ—Ä–≤–µ—Ä–µ:
  ```env
  NEXT_PUBLIC_API_URL=https://api.example.com/api/fitness
  ```

### 3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ dev-—Å–µ—Ä–≤–µ—Ä

–ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è `.env.local` –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:

```bash
pnpm dev
```

## üìö Endpoints API

–í—Å–µ endpoints —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏:

### Authentication
- `POST /api/fitness/auth/register` - –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
- `POST /api/fitness/auth/login` - –í—Ö–æ–¥

### Users
- `GET /api/fitness/users/me` - –ü–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (—Ç—Ä–µ–±—É–µ—Ç —Ç–æ–∫–µ–Ω)
- `POST /api/fitness/users/me/courses` - –î–æ–±–∞–≤–∏—Ç—å –∫—É—Ä—Å (—Ç—Ä–µ–±—É–µ—Ç —Ç–æ–∫–µ–Ω)
- `DELETE /api/fitness/users/me/courses/[courseId]` - –£–¥–∞–ª–∏—Ç—å –∫—É—Ä—Å (—Ç—Ä–µ–±—É–µ—Ç —Ç–æ–∫–µ–Ω)

### Courses
- `GET /api/fitness/courses` - –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –∫—É—Ä—Å—ã
- `GET /api/fitness/courses/[courseId]` - –ü–æ–ª—É—á–∏—Ç—å –∫—É—Ä—Å –ø–æ ID
- `GET /api/fitness/courses/[courseId]/workouts` - –ü–æ–ª—É—á–∏—Ç—å —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ –∫—É—Ä—Å–∞ (—Ç—Ä–µ–±—É–µ—Ç —Ç–æ–∫–µ–Ω)
- `PATCH /api/fitness/courses/[courseId]/reset` - –°–±—Ä–æ—Å–∏—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å –∫—É—Ä—Å–∞ (—Ç—Ä–µ–±—É–µ—Ç —Ç–æ–∫–µ–Ω)

### Workouts
- `GET /api/fitness/workouts/[workoutId]` - –ü–æ–ª—É—á–∏—Ç—å —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É (—Ç—Ä–µ–±—É–µ—Ç —Ç–æ–∫–µ–Ω)
- `PATCH /api/fitness/courses/[courseId]/workouts/[workoutId]` - –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å (—Ç—Ä–µ–±—É–µ—Ç —Ç–æ–∫–µ–Ω)
- `PATCH /api/fitness/courses/[courseId]/workouts/[workoutId]/reset` - –°–±—Ä–æ—Å–∏—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å (—Ç—Ä–µ–±—É–µ—Ç —Ç–æ–∫–µ–Ω)

### Progress
- `GET /api/fitness/users/me/progress?courseId={courseId}` - –ü—Ä–æ–≥—Ä–µ—Å—Å –ø–æ –∫—É—Ä—Å—É (—Ç—Ä–µ–±—É–µ—Ç —Ç–æ–∫–µ–Ω)
- `GET /api/fitness/users/me/progress?courseId={courseId}&workoutId={workoutId}` - –ü—Ä–æ–≥—Ä–µ—Å—Å –ø–æ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ (—Ç—Ä–µ–±—É–µ—Ç —Ç–æ–∫–µ–Ω)

## üîê –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è

Endpoints, –ø–æ–º–µ—á–µ–Ω–Ω—ã–µ –∑–≤—ë–∑–¥–æ—á–∫–æ–π (*), —Ç—Ä–µ–±—É—é—Ç —Ç–æ–∫–µ–Ω –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ:

```
Authorization: Bearer <token>
```

–¢–æ–∫–µ–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –∏–∑ `localStorage` –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∑–∞–ø—Ä–æ—Å–µ.

## ‚ùå –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

–í—Å–µ –æ—à–∏–±–∫–∏ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è –≤ —Ñ–æ—Ä–º–∞—Ç–µ:

```json
{
  "message": "–ü–æ—è—Å–Ω–µ–Ω–∏–µ –æ—à–∏–±–∫–∏"
}
```

–°—Ç–∞—Ç—É—Å –∫–æ–¥—ã –æ—à–∏–±–æ–∫:
- `404` - –†–µ—Å—É—Ä—Å –Ω–µ –Ω–∞–π–¥–µ–Ω –∏–ª–∏ –æ—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏
- `500` - –û—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞
- `503` - –°–µ—Ä–≤–∏—Å –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω (–Ω–µ —É–¥–∞–ª–æ—Å—å –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ API)

## üêõ –û—Ç–ª–∞–¥–∫–∞

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–∞—é—Ç –ø—Ä–æ–±–ª–µ–º—ã:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ `.env.local` —Å–æ–∑–¥–∞–Ω –∏ —Å–æ–¥–µ—Ä–∂–∏—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π URL
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ API —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω –∏ –¥–æ—Å—Ç—É–ø–µ–Ω
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ –∏ —Ç–µ—Ä–º–∏–Ω–∞–ª —Å–µ—Ä–≤–µ—Ä–∞ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –æ—à–∏–±–æ–∫
4. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ URL –≤ `.env.local` –∑–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è –Ω–∞ `/api/fitness` (–±–µ–∑ —Å–ª–µ—à–∞ –≤ –∫–æ–Ω—Ü–µ –ø—É—Ç–∏)

## üìù –ü—Ä–∏–º–µ—Ä—ã –æ—à–∏–±–æ–∫

### API URL –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω
```json
{
  "message": "API URL –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è NEXT_PUBLIC_API_URL –≤ .env.local"
}
```

### –ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ API
```json
{
  "message": "–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ API —Å–µ—Ä–≤–µ—Ä—É. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ URL –∏ —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω."
}
```
